# Cuckoo Filter by Zhaorui Ding

### Initialization

The project is developed with IntelliJ IDEA in JDK-13. Run the file "Evaluator.java". Following the instruction on the terminal, you will need to initialize the bucket size and number of buckets.

```shell
Welcome to my Cuckoo Filter! Please input your configurations to initialize it.
Bucket Size:4
Number of Buckets:1024
```

### Building and Running

After initialization, there will be a prompt on the terminal:

```shell
Please choose an operation(1: insert, 2: lookup, 3: delete, 4: generate data file, 5: evaluate, 6: clear, 7: restructure, 0: exit)
```

Please enter the corresponding number of your operation. 

#### Insertion

```shell
1
Please enter the key you want to insert:
dzr
Successfully inserted [dzr]
```

#### Lookup

```shell
2
Please enter the key you want to look up:
dzr
Key [dzr] exists at bucket No. 85
Please choose an operation(1: insert, 2: lookup, 3: delete, 4: generate data file, 5: evaluate, 0: exit)
2
Please enter the key you want to look up:
aaa
Key [aaa] doest NOT exist!
```

#### Deletion

```shell
3
Please enter the key you want to delete:
dzr
Successfully deleted [dzr]
```

#### Entries Generation

Operation 4 will randomly generate string keys and save them to the file you name. These keys are 3-character lower case strings. 

**In this package, there are already 4 datasets: data_1000.txt, data_10000.txt, data_50000.txt, data_100000.txt, consisting of 1000, 10000, 50000, 100000 respectively.**

```shell
4
Please enter the file name to store the data
test.txt
Please enter the numbers of entries (default: 5000)
2000
Successfully generated data
```

#### Automatic Evaluation

If you choose op. 5, you will need to enter the data file and name the file that you want to save your result. You will also need to enter the number of keys that are used merely for testing. These keys are also randomly-generated 3-character lower case strings.

```shell
5
Please enter the file name of data
test.txt
Please enter the file name to save the result
result1000.txt
Please enter the numbers of entries to evaluate
1000
Evaluation done, please check "result1000.txt" for results.
```

The results contain the keys for testing, times of kick-outs, total insertion time / ns, number of positive (not inluding false positive), false positive and negative entries, true positive rate, and false positive rate. In this case, there are unlikely to have false positive results since fingerprints are generated by String.hashcode() and only fingerprint collision of different keys will result in a false positive. 

#### Clear

Enter 6 to clear all the entries in the filter while maintaining its original structure.

```shell
6
Do you want to clear all entries in the filter?[y/n]
y
Successfully cleared filter
```

#### Restructure

Enter 7 to reset the parameters of this filter. Note that it does not support dynamic restructuring, so after reseting the parameters the entries will be removed from the filter.

```shell
7
Do you want to restructure the filter? Entries in the filter will be removed.[y/n]
y
Please input your configurations.
Bucket Size:12
Number of Buckets:100
Successfully restructured filter
Please choose an operation(1: insert, 2: lookup, 3: delete, 4: generate data file, 5: evaluate, 6: clear, 7: restructure, 0: exit)
```

### Clarification

All code was independently developed by Zhaorui Ding. There may still be bugs in this filter, please feel free to contact me if anything is wrong.